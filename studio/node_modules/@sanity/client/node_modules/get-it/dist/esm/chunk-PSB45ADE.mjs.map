{
  "version": 3,
  "sources": ["../../src/util/global.js", "../../src/middleware/observable.js"],
  "sourcesContent": ["let actualGlobal\n/* global globalThis */\n/* eslint-disable no-negated-condition */\nif (typeof globalThis !== 'undefined') {\n  actualGlobal = globalThis\n} else if (typeof window !== 'undefined') {\n  actualGlobal = window\n} else if (typeof global !== 'undefined') {\n  actualGlobal = global\n} else if (typeof self !== 'undefined') {\n  actualGlobal = self\n} else {\n  actualGlobal = {}\n}\n\nexport default actualGlobal\n", "import global from '../util/global'\n\nexport default (opts = {}) => {\n  const Observable = opts.implementation || global.Observable\n  if (!Observable) {\n    throw new Error(\n      '`Observable` is not available in global scope, and no implementation was passed'\n    )\n  }\n\n  return {\n    onReturn: (channels, context) =>\n      new Observable(observer => {\n        channels.error.subscribe(err => observer.error(err))\n        channels.progress.subscribe(event =>\n          observer.next(Object.assign({type: 'progress'}, event))\n        )\n        channels.response.subscribe(response => {\n          observer.next(Object.assign({type: 'response'}, response))\n          observer.complete()\n        })\n\n        channels.request.publish(context)\n        return () => channels.abort.publish()\n      })\n  }\n}\n"],
  "mappings": ";AAAA,IAAI;AAGJ,IAAI,OAAO,eAAe,aAAa;AACrC,iBAAe;AACjB,WAAW,OAAO,WAAW,aAAa;AACxC,iBAAe;AACjB,WAAW,OAAO,WAAW,aAAa;AACxC,iBAAe;AACjB,WAAW,OAAO,SAAS,aAAa;AACtC,iBAAe;AACjB,OAAO;AACL,iBAAe,CAAC;AAClB;AAEA,IAAO,iBAAQ;;;ACbf,IAAO,qBAAQ,CAAC,OAAO,CAAC,MAAM;AAC5B,QAAM,aAAa,KAAK,kBAAkB,eAAO;AACjD,MAAI,CAAC,YAAY;AACf,UAAM,IAAI;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AAAA,IACL,UAAU,CAAC,UAAU,YACnB,IAAI,WAAW,cAAY;AACzB,eAAS,MAAM,UAAU,SAAO,SAAS,MAAM,GAAG,CAAC;AACnD,eAAS,SAAS;AAAA,QAAU,WAC1B,SAAS,KAAK,OAAO,OAAO,EAAC,MAAM,WAAU,GAAG,KAAK,CAAC;AAAA,MACxD;AACA,eAAS,SAAS,UAAU,cAAY;AACtC,iBAAS,KAAK,OAAO,OAAO,EAAC,MAAM,WAAU,GAAG,QAAQ,CAAC;AACzD,iBAAS,SAAS;AAAA,MACpB,CAAC;AAED,eAAS,QAAQ,QAAQ,OAAO;AAChC,aAAO,MAAM,SAAS,MAAM,QAAQ;AAAA,IACtC,CAAC;AAAA,EACL;AACF;",
  "names": []
}
