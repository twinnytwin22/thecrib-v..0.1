(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.getIt = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createRequester;var _nanoPubsub=_interopRequireDefault(require("nano-pubsub")),_middlewareReducer=_interopRequireDefault(require("./util/middlewareReducer")),_defaultOptionsProcessor=_interopRequireDefault(require("./middleware/defaultOptionsProcessor")),_defaultOptionsValidator=_interopRequireDefault(require("./middleware/defaultOptionsValidator")),_request=_interopRequireDefault(require("./request"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var pubsub="default"in _nanoPubsub.default?_nanoPubsub.default.default:_nanoPubsub.default,channelNames=["request","response","progress","error","abort"],middlehooks=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function createRequester(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_request.default,t=[],o=middlehooks.reduce(function(e,r){return e[r]=e[r]||[],e},{processOptions:[_defaultOptionsProcessor.default],validateOptions:[_defaultOptionsValidator.default]});function n(e){var t=channelNames.reduce(function(e,r){return e[r]=pubsub(),e},{}),n=(0,_middlewareReducer.default)(o),u=n("processOptions",e);n("validateOptions",u);var a={options:u,channels:t,applyMiddleware:n},s=null,i=t.request.subscribe(function(e){s=r(e,function(r,o){return function(e,r,o){var u=e,a=r;if(!u)try{a=n("onResponse",r,o)}catch(e){a=null,u=e}(u=u&&n("onError",u,o))?t.error.publish(u):a&&t.response.publish(a)}(r,o,e)})});t.abort.subscribe(function(){i(),s&&s.abort()});var d=n("onReturn",t,a);return d===t&&t.request.publish(a),d}return n.use=function(e){if(!e)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof e)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(e.onReturn&&o.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return middlehooks.forEach(function(r){e[r]&&o[r].push(e[r])}),t.push(e),n},n.clone=function(){return createRequester(t)},e.forEach(n.use),n}module.exports=exports.default;

},{"./middleware/defaultOptionsProcessor":2,"./middleware/defaultOptionsValidator":3,"./request":6,"./util/middlewareReducer":7,"nano-pubsub":8}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _urlParse=_interopRequireDefault(require("url-parse"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var isReactNative="undefined"!=typeof navigator&&"ReactNative"===navigator.product,has=Object.prototype.hasOwnProperty,defaultOptions={timeout:isReactNative?6e4:12e4},_default=function(e){var t="string"==typeof e?_extends({url:e},defaultOptions):_extends({},defaultOptions,e),r=(0,_urlParse.default)(t.url,{},!0);return t.timeout=normalizeTimeout(t.timeout),t.query&&(r.query=_extends({},r.query,removeUndefined(t.query))),t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t.url=r.toString(stringifyQueryString),t};function stringifyQueryString(e){var t=[];for(var r in e)has.call(e,r)&&n(r,e[r]);return t.length?t.join("&"):"";function n(e,r){Array.isArray(r)?r.forEach(function(t){return n(e,t)}):t.push([e,r].map(encodeURIComponent).join("="))}}function normalizeTimeout(e){if(!1===e||0===e)return!1;if(e.connect||e.socket)return e;var t=Number(e);return isNaN(t)?normalizeTimeout(defaultOptions.timeout):{connect:t,socket:t}}function removeUndefined(e){var t={};for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}exports.default=_default,module.exports=exports.default;

},{"url-parse":14}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var validUrl=/^https?:\/\//i,_default=function(t){if(!validUrl.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};exports.default=_default,module.exports=exports.default;

},{}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _sameOrigin=_interopRequireDefault(require("same-origin")),_parseHeaders=_interopRequireDefault(require("parse-headers")),_fetchXhr=_interopRequireDefault(require("./browser/fetchXhr"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var noop=function(){},win="undefined"==typeof document||"undefined"==typeof window?void 0:window,adapter=win?"xhr":"fetch",XmlHttpRequest="function"==typeof XMLHttpRequest?XMLHttpRequest:noop,hasXhr2="withCredentials"in new XmlHttpRequest,XDR="undefined"==typeof XDomainRequest?void 0:XDomainRequest,CrossDomainRequest=hasXhr2?XmlHttpRequest:XDR;win||(XmlHttpRequest=_fetchXhr.default,CrossDomainRequest=_fetchXhr.default);var _default=function(e,t){var r=e.options,n=e.applyMiddleware("finalizeOptions",r),o={},u=win&&win.location&&!(0,_sameOrigin.default)(win.location.href,n.url),a=e.applyMiddleware("interceptRequest",void 0,{adapter:adapter,context:e});if(a){var s=setTimeout(t,0,null,a);return{abort:function(){return clearTimeout(s)}}}var i=u?new CrossDomainRequest:new XmlHttpRequest,d=win&&win.XDomainRequest&&i instanceof win.XDomainRequest,l=n.headers,c=n.timeout,f=!1,p=!1,w=!1;if(i.onerror=R,i.ontimeout=R,i.onabort=function(){q(!0),f=!0},i.onprogress=function(){},i[d?"onload":"onreadystatechange"]=function(){!function(){if(!c)return;q(),o.socket=setTimeout(function(){return h("ESOCKETTIMEDOUT")},c.socket)}(),f||4!==i.readyState&&!d||0!==i.status&&function(){if(f||p||w)return;if(0===i.status)return void R(new Error("Unknown XHR error"));q(),p=!0,t(null,function(){var e=i.status,t=i.statusText;if(d&&void 0===e)e=200;else{if(e>12e3&&e<12156)return R();e=1223===i.status?204:i.status,t=1223===i.status?"No Content":t}return{body:i.response||i.responseText,url:n.url,method:n.method,headers:d?{}:(0,_parseHeaders.default)(i.getAllResponseHeaders()),statusCode:e,statusMessage:t}}())}()},i.open(n.method,n.url,!0),i.withCredentials=!!n.withCredentials,l&&i.setRequestHeader)for(var m in l)l.hasOwnProperty(m)&&i.setRequestHeader(m,l[m]);else if(l&&d)throw new Error("Headers cannot be set on an XDomainRequest object");return n.rawBody&&(i.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:n,adapter:adapter,request:i,context:e}),i.send(n.body||null),c&&(o.connect=setTimeout(function(){return h("ETIMEDOUT")},c.connect)),{abort:function(){f=!0,i&&i.abort()}};function h(t){w=!0,i.abort();var r=new Error("ESOCKETTIMEDOUT"===t?"Socket timed out on request to ".concat(n.url):"Connection timed out on request to ".concat(n.url));r.code=t,e.channels.error.publish(r)}function q(e){(e||f||i.readyState>=2&&o.connect)&&clearTimeout(o.connect),o.socket&&clearTimeout(o.socket)}function R(e){if(!p){q(!0),p=!0,i=null;var r=e||new Error("Network error while attempting to reach ".concat(n.url));r.isNetworkError=!0,r.request=n,t(r)}}};exports.default=_default,module.exports=exports.default;

},{"./browser/fetchXhr":5,"parse-headers":9,"same-origin":12}],5:[function(require,module,exports){
"use strict";function FetchXhr(){this.readyState=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,FetchXhr.prototype.open=function(t,e){this._method=t,this._url=e,this._resHeaders="",this.readyState=1,this.onreadystatechange()},FetchXhr.prototype.abort=function(){this._controller&&this._controller.abort()},FetchXhr.prototype.getAllResponseHeaders=function(){return this._resHeaders},FetchXhr.prototype.setRequestHeader=function(t,e){this._headers=this._headers||{},this._headers[t]=e},FetchXhr.prototype.send=function(t){var e=this,r=this._controller="function"==typeof AbortController&&new AbortController,o="arraybuffer"!==this.responseType,s={method:this._method,headers:this._headers,signal:r&&r.signal||void 0,body:t};"undefined"!=typeof document&&(s.credentials=this.withCredentials?"include":"omit"),fetch(this._url,s).then(function(t){return t.headers.forEach(function(t,r){e._resHeaders+="".concat(r,": ").concat(t,"\r\n")}),e.status=t.status,e.statusText=t.statusText,e.readyState=3,o?t.text():t.arrayBuffer()}).then(function(t){o?e.responseText=t:e.response=t,e.readyState=4,e.onreadystatechange()}).catch(function(t){"AbortError"!==t.name?e.onerror(t):e.onabort()})};var _default=FetchXhr;exports.default=_default,module.exports=exports.default;

},{}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _nodeRequest=_interopRequireDefault(require("./node-request"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default=_nodeRequest.default;exports.default=_default,module.exports=exports.default;

},{"./node-request":4}],7:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e){return function(r,t){for(var o="onError"===r,u=t,a=arguments.length,n=new Array(a>2?a-2:0),l=2;l<a;l++)n[l-2]=arguments[l];for(var d=0;d<e[r].length&&(u=e[r][d].apply(void 0,[u].concat(n)),!o||u);d++);return u}};exports.default=_default,module.exports=exports.default;

},{}],8:[function(require,module,exports){
"use strict";function createPubSub(){var e=Object.create(null),t=0;return{publish:function(t){for(var r in e)e[r](t)},subscribe:function(r){var u=t++;return e[u]=r,function(){delete e[u]}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createPubSub;

},{}],9:[function(require,module,exports){
var trim=function(r){return r.replace(/^\s+|\s+$/g,"")},isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(r){if(!r)return{};for(var t={},e=trim(r).split("\n"),i=0;i<e.length;i++){var n=e[i],o=n.indexOf(":"),s=trim(n.slice(0,o)).toLowerCase(),a=trim(n.slice(o+1));void 0===t[s]?t[s]=a:isArray(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};

},{}],10:[function(require,module,exports){
"use strict";var undef,has=Object.prototype.hasOwnProperty;function decode(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function encode(e){try{return encodeURIComponent(e)}catch(e){return null}}function querystring(e){for(var n,r=/([^=?#&]+)=?([^&]*)/g,t={};n=r.exec(e);){var o=decode(n[1]),u=decode(n[2]);null===o||null===u||o in t||(t[o]=u)}return t}function querystringify(e,n){n=n||"";var r,t,o=[];for(t in"string"!=typeof n&&(n="?"),e)if(has.call(e,t)){if((r=e[t])||null!==r&&r!==undef&&!isNaN(r)||(r=""),t=encode(t),r=encode(r),null===t||null===r)continue;o.push(t+"="+r)}return o.length?n+o.join("&"):""}exports.stringify=querystringify,exports.parse=querystring;

},{}],11:[function(require,module,exports){
"use strict";module.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e};

},{}],12:[function(require,module,exports){
"use strict";var url=require("url");module.exports=function(o,r,t){if(o===r)return!0;var p=url.parse(o,!1,!0),e=url.parse(r,!1,!0),s=0|p.port||("https"===p.protocol?443:80),u=0|e.port||("https"===e.protocol?443:80),l={proto:p.protocol===e.protocol,hostname:p.hostname===e.hostname,port:s===u};return l.proto&&l.hostname&&(l.port||t)};

},{"url":13}],13:[function(require,module,exports){
"use strict";var regex=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/;module.exports={regex:regex,parse:function(e){var o=regex.exec(e);return o?{protocol:(o[1]||"").toLowerCase()||void 0,hostname:(o[5]||"").toLowerCase()||void 0,port:o[6]||void 0}:{}}};

},{}],14:[function(require,module,exports){
(function (global){(function (){
"use strict";var required=require("requires-port"),qs=require("querystringify"),controlOrWhitespace=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,CRHTLF=/[\n\r\t]/g,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,port=/:\d+$/,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,windowsDriveLetter=/^[a-zA-Z]:/;function trimLeft(e){return(e||"").toString().replace(controlOrWhitespace,"")}var rules=[["#","hash"],["?","query"],function(e,o){return isSpecial(o.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};function lolcation(e){var o,t=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).location||{},r={},s=typeof(e=e||t);if("blob:"===e.protocol)r=new Url(unescape(e.pathname),{});else if("string"===s)for(o in r=new Url(e,{}),ignore)delete r[o];else if("object"===s){for(o in e)o in ignore||(r[o]=e[o]);void 0===r.slashes&&(r.slashes=slashes.test(e.href))}return r}function isSpecial(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function extractProtocol(e,o){e=(e=trimLeft(e)).replace(CRHTLF,""),o=o||{};var t,r=protocolre.exec(e),s=r[1]?r[1].toLowerCase():"",a=!!r[2],n=!!r[3],l=0;return a?n?(t=r[2]+r[3]+r[4],l=r[2].length+r[3].length):(t=r[2]+r[4],l=r[2].length):n?(t=r[3]+r[4],l=r[3].length):t=r[4],"file:"===s?l>=2&&(t=t.slice(2)):isSpecial(s)?t=r[4]:s?a&&(t=t.slice(2)):l>=2&&isSpecial(o.protocol)&&(t=r[4]),{protocol:s,slashes:a||isSpecial(s),slashesCount:l,rest:t}}function resolve(e,o){if(""===e)return o;for(var t=(o||"/").split("/").slice(0,-1).concat(e.split("/")),r=t.length,s=t[r-1],a=!1,n=0;r--;)"."===t[r]?t.splice(r,1):".."===t[r]?(t.splice(r,1),n++):n&&(0===r&&(a=!0),t.splice(r,1),n--);return a&&t.unshift(""),"."!==s&&".."!==s||t.push(""),t.join("/")}function Url(e,o,t){if(e=(e=trimLeft(e)).replace(CRHTLF,""),!(this instanceof Url))return new Url(e,o,t);var r,s,a,n,l,i,p=rules.slice(),c=typeof o,h=this,u=0;for("object"!==c&&"string"!==c&&(t=o,o=null),t&&"function"!=typeof t&&(t=qs.parse),r=!(s=extractProtocol(e||"",o=lolcation(o))).protocol&&!s.slashes,h.slashes=s.slashes||r&&o.slashes,h.protocol=s.protocol||o.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||windowsDriveLetter.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!isSpecial(h.protocol)))&&(p[3]=[/(.*)/,"pathname"]);u<p.length;u++)"function"!=typeof(n=p[u])?(a=n[0],i=n[1],a!=a?h[i]=e:"string"==typeof a?~(l="@"===a?e.lastIndexOf(a):e.indexOf(a))&&("number"==typeof n[2]?(h[i]=e.slice(0,l),e=e.slice(l+n[2])):(h[i]=e.slice(l),e=e.slice(0,l))):(l=a.exec(e))&&(h[i]=l[1],e=e.slice(0,l.index)),h[i]=h[i]||r&&n[3]&&o[i]||"",n[4]&&(h[i]=h[i].toLowerCase())):e=n(e,h);t&&(h.query=t(h.query)),r&&o.slashes&&"/"!==h.pathname.charAt(0)&&(""!==h.pathname||""!==o.pathname)&&(h.pathname=resolve(h.pathname,o.pathname)),"/"!==h.pathname.charAt(0)&&isSpecial(h.protocol)&&(h.pathname="/"+h.pathname),required(h.port,h.protocol)||(h.host=h.hostname,h.port=""),h.username=h.password="",h.auth&&(~(l=h.auth.indexOf(":"))?(h.username=h.auth.slice(0,l),h.username=encodeURIComponent(decodeURIComponent(h.username)),h.password=h.auth.slice(l+1),h.password=encodeURIComponent(decodeURIComponent(h.password))):h.username=encodeURIComponent(decodeURIComponent(h.auth)),h.auth=h.password?h.username+":"+h.password:h.username),h.origin="file:"!==h.protocol&&isSpecial(h.protocol)&&h.host?h.protocol+"//"+h.host:"null",h.href=h.toString()}function set(e,o,t){var r=this;switch(e){case"query":"string"==typeof o&&o.length&&(o=(t||qs.parse)(o)),r[e]=o;break;case"port":r[e]=o,required(o,r.protocol)?o&&(r.host=r.hostname+":"+o):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=o,r.port&&(o+=":"+r.port),r.host=o;break;case"host":r[e]=o,port.test(o)?(o=o.split(":"),r.port=o.pop(),r.hostname=o.join(":")):(r.hostname=o,r.port="");break;case"protocol":r.protocol=o.toLowerCase(),r.slashes=!t;break;case"pathname":case"hash":if(o){var s="pathname"===e?"/":"#";r[e]=o.charAt(0)!==s?s+o:o}else r[e]=o;break;case"username":case"password":r[e]=encodeURIComponent(o);break;case"auth":var a=o.indexOf(":");~a?(r.username=o.slice(0,a),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=o.slice(a+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(o))}for(var n=0;n<rules.length;n++){var l=rules[n];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin="file:"!==r.protocol&&isSpecial(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function toString(e){e&&"function"==typeof e||(e=qs.stringify);var o,t=this,r=t.host,s=t.protocol;s&&":"!==s.charAt(s.length-1)&&(s+=":");var a=s+(t.protocol&&t.slashes||isSpecial(t.protocol)?"//":"");return t.username?(a+=t.username,t.password&&(a+=":"+t.password),a+="@"):t.password?(a+=":"+t.password,a+="@"):"file:"!==t.protocol&&isSpecial(t.protocol)&&!r&&"/"!==t.pathname&&(a+="@"),(":"===r[r.length-1]||port.test(t.hostname)&&!t.port)&&(r+=":"),a+=r+t.pathname,(o="object"==typeof t.query?e(t.query):t.query)&&(a+="?"!==o.charAt(0)?"?"+o:o),t.hash&&(a+=t.hash),a}Url.prototype={set:set,toString:toString},Url.extractProtocol=extractProtocol,Url.location=lolcation,Url.trimLeft=trimLeft,Url.qs=qs,module.exports=Url;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"querystringify":10,"requires-port":11}]},{},[1])(1)
});
