{"version":3,"file":"base.js","names":["leadingSlash","trailingSlash","baseUrl","baseUri","replace","processOptions","options","test","url","join","Object","assign"],"sources":["../../src/middleware/base.js"],"sourcesContent":["const leadingSlash = /^\\//\nconst trailingSlash = /\\/$/\n\nexport default baseUrl => {\n  const baseUri = baseUrl.replace(trailingSlash, '')\n  return {\n    processOptions: options => {\n      if (/^https?:\\/\\//i.test(options.url)) {\n        return options // Already prefixed\n      }\n\n      const url = [baseUri, options.url.replace(leadingSlash, '')].join('/')\n      return Object.assign({}, options, {url})\n    }\n  }\n}\n"],"mappings":";;;;;;AAAA,MAAMA,YAAY,GAAG,KAArB;AACA,MAAMC,aAAa,GAAG,KAAtB;;eAEeC,OAAO,IAAI;EACxB,MAAMC,OAAO,GAAGD,OAAO,CAACE,OAAR,CAAgBH,aAAhB,EAA+B,EAA/B,CAAhB;EACA,OAAO;IACLI,cAAc,EAAEC,OAAO,IAAI;MACzB,IAAI,gBAAgBC,IAAhB,CAAqBD,OAAO,CAACE,GAA7B,CAAJ,EAAuC;QACrC,OAAOF,OAAP,CADqC,CACtB;MAChB;;MAED,MAAME,GAAG,GAAG,CAACL,OAAD,EAAUG,OAAO,CAACE,GAAR,CAAYJ,OAAZ,CAAoBJ,YAApB,EAAkC,EAAlC,CAAV,EAAiDS,IAAjD,CAAsD,GAAtD,CAAZ;MACA,OAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,OAAlB,EAA2B;QAACE;MAAD,CAA3B,CAAP;IACD;EARI,CAAP;AAUD,C"}