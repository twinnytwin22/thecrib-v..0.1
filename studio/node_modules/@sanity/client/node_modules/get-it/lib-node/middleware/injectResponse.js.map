{"version":3,"file":"injectResponse.js","names":["opts","inject","Error","prevValue","event","response","options","context","Object","assign","body","url","method","headers","statusCode","statusMessage","interceptRequest"],"sources":["../../src/middleware/injectResponse.js"],"sourcesContent":["export default (opts = {}) => {\n  if (typeof opts.inject !== 'function') {\n    throw new Error('`injectResponse` middleware requires a `inject` function')\n  }\n\n  function inject(prevValue, event) {\n    const response = opts.inject(event, prevValue)\n    if (!response) {\n      return prevValue\n    }\n\n    // Merge defaults so we don't have to provide the most basic of details unless we want to\n    const options = event.context.options\n    return Object.assign(\n      {},\n      {\n        body: '',\n        url: options.url,\n        method: options.method,\n        headers: {},\n        statusCode: 200,\n        statusMessage: 'OK'\n      },\n      response\n    )\n  }\n\n  return {interceptRequest: inject}\n}\n"],"mappings":";;;;;;;eAAe,CAACA,IAAI,GAAG,EAAR,KAAe;EAC5B,IAAI,OAAOA,IAAI,CAACC,MAAZ,KAAuB,UAA3B,EAAuC;IACrC,MAAM,IAAIC,KAAJ,CAAU,0DAAV,CAAN;EACD;;EAED,SAASD,MAAT,CAAgBE,SAAhB,EAA2BC,KAA3B,EAAkC;IAChC,MAAMC,QAAQ,GAAGL,IAAI,CAACC,MAAL,CAAYG,KAAZ,EAAmBD,SAAnB,CAAjB;;IACA,IAAI,CAACE,QAAL,EAAe;MACb,OAAOF,SAAP;IACD,CAJ+B,CAMhC;;;IACA,MAAMG,OAAO,GAAGF,KAAK,CAACG,OAAN,CAAcD,OAA9B;IACA,OAAOE,MAAM,CAACC,MAAP,CACL,EADK,EAEL;MACEC,IAAI,EAAE,EADR;MAEEC,GAAG,EAAEL,OAAO,CAACK,GAFf;MAGEC,MAAM,EAAEN,OAAO,CAACM,MAHlB;MAIEC,OAAO,EAAE,EAJX;MAKEC,UAAU,EAAE,GALd;MAMEC,aAAa,EAAE;IANjB,CAFK,EAULV,QAVK,CAAP;EAYD;;EAED,OAAO;IAACW,gBAAgB,EAAEf;EAAnB,CAAP;AACD,C"}