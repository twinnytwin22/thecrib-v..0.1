{"version":3,"file":"base.js","names":["leadingSlash","trailingSlash","baseUrl","baseUri","replace","processOptions","options","test","url","join"],"sources":["../../src/middleware/base.js"],"sourcesContent":["const leadingSlash = /^\\//\nconst trailingSlash = /\\/$/\n\nexport default baseUrl => {\n  const baseUri = baseUrl.replace(trailingSlash, '')\n  return {\n    processOptions: options => {\n      if (/^https?:\\/\\//i.test(options.url)) {\n        return options // Already prefixed\n      }\n\n      const url = [baseUri, options.url.replace(leadingSlash, '')].join('/')\n      return Object.assign({}, options, {url})\n    }\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAMA,YAAY,GAAG,KAArB;AACA,IAAMC,aAAa,GAAG,KAAtB;;eAEe,kBAAAC,OAAO,EAAI;EACxB,IAAMC,OAAO,GAAGD,OAAO,CAACE,OAAR,CAAgBH,aAAhB,EAA+B,EAA/B,CAAhB;EACA,OAAO;IACLI,cAAc,EAAE,wBAAAC,OAAO,EAAI;MACzB,IAAI,gBAAgBC,IAAhB,CAAqBD,OAAO,CAACE,GAA7B,CAAJ,EAAuC;QACrC,OAAOF,OAAP,CADqC,CACtB;MAChB;;MAED,IAAME,GAAG,GAAG,CAACL,OAAD,EAAUG,OAAO,CAACE,GAAR,CAAYJ,OAAZ,CAAoBJ,YAApB,EAAkC,EAAlC,CAAV,EAAiDS,IAAjD,CAAsD,GAAtD,CAAZ;MACA,OAAO,SAAc,EAAd,EAAkBH,OAAlB,EAA2B;QAACE,GAAG,EAAHA;MAAD,CAA3B,CAAP;IACD;EARI,CAAP;AAUD,C"}