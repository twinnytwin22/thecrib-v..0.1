{"version":3,"file":"mtls.js","names":["config","ca","Error","cert","key","finalizeOptions","options","mtlsOpts"],"sources":["../../src/middleware/mtls.js"],"sourcesContent":["export default (config = {}) => {\n  if (!config.ca) {\n    throw new Error('Required mtls option \"ca\" is missing')\n  }\n  if (!config.cert) {\n    throw new Error('Required mtls option \"cert\" is missing')\n  }\n  if (!config.key) {\n    throw new Error('Required mtls option \"key\" is missing')\n  }\n\n  return {\n    finalizeOptions: options => {\n      const mtlsOpts = {\n        cert: config.cert,\n        key: config.key,\n        ca: config.ca\n      }\n      return Object.assign({}, options, mtlsOpts)\n    }\n  }\n}\n"],"mappings":";;;;;;;;;eAAe,oBAAiB;EAAA,IAAhBA,MAAgB,uEAAP,EAAO;;EAC9B,IAAI,CAACA,MAAM,CAACC,EAAZ,EAAgB;IACd,MAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;EACD;;EACD,IAAI,CAACF,MAAM,CAACG,IAAZ,EAAkB;IAChB,MAAM,IAAID,KAAJ,CAAU,wCAAV,CAAN;EACD;;EACD,IAAI,CAACF,MAAM,CAACI,GAAZ,EAAiB;IACf,MAAM,IAAIF,KAAJ,CAAU,uCAAV,CAAN;EACD;;EAED,OAAO;IACLG,eAAe,EAAE,yBAAAC,OAAO,EAAI;MAC1B,IAAMC,QAAQ,GAAG;QACfJ,IAAI,EAAEH,MAAM,CAACG,IADE;QAEfC,GAAG,EAAEJ,MAAM,CAACI,GAFG;QAGfH,EAAE,EAAED,MAAM,CAACC;MAHI,CAAjB;MAKA,OAAO,SAAc,EAAd,EAAkBK,OAAlB,EAA2BC,QAA3B,CAAP;IACD;EARI,CAAP;AAUD,C"}